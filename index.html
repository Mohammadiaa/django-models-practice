صورت مسئله: سیستم جامع “مدیریت کارها”

یک شرکت نرم‌افزاری از شما می‌خواهد دیتابیس یک سیستم مدیریت پروژه را با جنگو طراحی کنید. این سیستم بخش‌های زیر را دارد:

کاربران و پروفایل‌ها

    سیستم از همان مدل User پیش‌فرض جنگو برای لاگین استفاده می‌کند.
    هر کاربر باید یک پروفایل (Profile) داشته باشد که شامل فیلدهای: شماره تلفن، بیوگرافی و سطح ارشدیت (Junior, Mid-level, Senior) باشد.
    چالش: اگر یوزر حذف شد، پروفایل هم باید حذف شود.


 تیم‌ها (Teams)

    هر تیم یک نام و یک تاریخ تاسیس دارد.
    هر تیم می‌تواند چندین کاربر داشته باشد و هر کاربر می‌تواند در چندین تیم عضو باشد.
    هر تیم دقیقاً یک نفر به عنوان “لیدر یا مدیر تیم” دارد .
    چالش: اگر لیدر تیم از شرکت رفت (حذف شد)، تیم نباید حذف شود، بلکه فیلد لیدر باید خالی (Null) بماند تا بعداً شخص دیگری جایگزین شود.


 پروژه‌ها (Projects)

    هر پروژه یک عنوان، توضیحات و یک “تیم انجام‌دهنده” دارد.
    هر تیم می‌تواند چندین پروژه داشته باشد، اما هر پروژه متعلق به یک تیم است.
    اگر یک تیم منحل شد (حذف شد)، تمام پروژه‌های آن تیم هم باید از دیتابیس حذف شوند.

    
وظایف (Tasks) 

    هر Task یک عنوان، وضعیت (To Do, In Progress, Done) و یک پروژه مرتبط دارد.
    چالش خود ارجاعی (Self-referential): یک Task می‌تواند زیرمجموعه‌ی یک Task دیگر باشد! یعنی ما “تسک اصلی” و “ساب‌تسک” داریم. یک تسک می‌تواند هیچ تسک پدری نداشته باشد، یا یک تسک پدر داشته باشد.
    چالش تخصیص (Assignment): یک تسک می‌تواند به چندین کاربر سپرده شود. اما کارفرما فقط لیست کاربران را نمی‌خواهد! کارفرما می‌خواهد بداند چه کسی این تسک را به آن کاربر اختصاص داده است و در چه تاریخ و ساعتی این تخصیص انجام شده است.(راهنمایی: در اینجا ManyToManyField ساده جواب نمی‌دهد و باید از پارامتر through استفاده کنی).


ثبت زمان (Time Logs)

    کاربران باید بتوانند بگویند روی هر تسک چند ساعت کار کرده‌اند.
    هر رکوردِ TimeLog شامل: کاربر، تسک مربوطه، تاریخ ثبت، و مدت زمان (به ساعت) است.
    یک کاربر می‌تواند برای یک تسک، چندین TimeLog در روزهای مختلف ثبت کند.
    اگر کاربری از سیستم حذف شد، گزارش کارهایش (TimeLogs) نباید حذف شوند! بلکه باید مشخص باشد که این زمان‌ها توسط یک “کاربر حذف شده” ثبت شده‌اند.